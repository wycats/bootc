# READ-ONLY: Use 'exo' CLI to modify this file.
# Implementation Plan

[phase]
id = "01kj8zvbe15c0ag9e4tpn3gzqv"

[plan]

[[plan.goals]]
id = "eliminate-user-manifest-layer-rfc-0052"

[[plan.goals.tasks]]
id = "convert-commands"
title = "PER 2: Convert all commands/*.rs to read/write repo manifests (flatpak, extension, gsetting, shim, homebrew, system, status, profile)"
status = "pending"

[[plan.goals.tasks]]
id = "convert-subsystem"
title = "PER 3: Convert subsystem.rs SubsystemContext and trait impls to repo-only"
status = "pending"

[[plan.goals.tasks]]
id = "cleanup-merge-code"
title = "PER 4: Remove load_user/save_user/merged/SYSTEM_PATH from manifest types and dead tests"
status = "pending"

[[plan.goals.tasks]]
id = "repo-path-caching"
title = "PER 1: Add repo path caching to find_repo_path()"
status = "pending"

[[plan.goals.tasks]]
id = "migrate-command"
title = "PER 5: Add bkt migrate manifests command"
status = "pending"

[[plan.goals]]
id = "bootstrap-clones-repo-rfc-0053"

[[plan.goals.tasks]]
id = "bootstrap-clone"
title = "Add repo clone step to bkt bootstrap"
status = "pending"

[[plan.goals.tasks]]
id = "bootstrap-system-only"
title = "Restrict system manifest reads to bootstrap path only"
status = "pending"

[[plan.goals.tasks]]
id = "bootstrap-cache-path"
title = "Cache repo path after bootstrap clone"
status = "pending"

[[plan.goals]]
id = "eliminate-ephemeral-manifest-and-local-rfc-0054"

[[plan.goals.tasks]]
id = "remove-ephemeral"
title = "Remove ephemeral manifest module and --local flag"
status = "pending"

[[plan.goals.tasks]]
id = "remove-local-subcommand"
title = "Remove bkt local subcommand"
status = "pending"

[[plan.goals.tasks]]
id = "capture-writes-repo"
title = "Make all capture commands write to repo manifests/"
status = "pending"
# Goals contain tasks. Use 'exo-add-task' to add tasks to goals.


[verification]
automated = ["Run scripts/verify-phase.sh"]
manual = []
